{"version":3,"sources":["GameInfo.ts"],"names":[],"mappings":";;;;;;;;;;;;AACM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAgBI;QAdA,gBAAW,GAAK,IAAI,CAAC;QACrB,mBAAc,GAAK,IAAI,CAAC;QACxB,kBAAa,GAAK,IAAI,CAAC;QACvB,kBAAa,GAAK,IAAI,CAAC;QACf,aAAQ,GAAY,KAAK,CAAC;QAW9B,IAAI,CAAC,SAAS,EAAE,CAAA;IACpB,CAAC;iBAlBgB,QAAQ;IAUlB,oBAAW,GAAlB;QACI,IAAI,CAAC,UAAQ,CAAC,UAAU;YACxB,UAAQ,CAAC,UAAU,GAAG,IAAI,UAAQ,EAAE,CAAA;QACpC,OAAO,UAAQ,CAAC,UAAU,CAAC;IAE/B,CAAC;IAID,iBAAiB;IACT,4BAAS,GAAjB;QACI,8EAA8E;IAClF,CAAC;IAEO,6BAAU,GAAlB;QACI,+EAA+E;IACnF,CAAC;IAED,+BAAY,GAAZ,UAAa,YAAY,EAAC,eAAe,EAAC,cAAc;QACpD,IAAI,CAAC,WAAW,GAAC,YAAY,CAAC;QAC9B,IAAI,CAAC,cAAc,GAAC,eAAe,CAAC;QACpC,IAAI,CAAC,aAAa,GAAC,cAAc,CAAC;QAClC,IAAI,CAAC,aAAa,GAAC,cAAc,CAAC;IACtC,CAAC;IAED,iCAAc,GAAd;QACI,IAAI,QAAQ,GAAC;YACT,WAAW,EAAC,IAAI,CAAC,WAAW;YAC5B,cAAc,EAAC,IAAI,CAAC,cAAc;YAClC,aAAa,EAAC,IAAI,CAAC,aAAa;SACnC,CAAA;QACD,OAAO,QAAQ,CAAA;IACnB,CAAC;IACD,uCAAoB,GAApB;QACI,OAAO,IAAI,CAAC,QAAQ,CAAA;IACxB,CAAC;IAED,+BAAY,GAAZ;QACI,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAA;IACtB,CAAC;IAED,4BAAS,GAAT;QACI,UAAQ,CAAC,UAAU,GAAC,IAAI,CAAC;IAC7B,CAAC;IAED,+BAAY,GAAZ;QACI,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,aAAa,GAAC,CAAC,CAAC;QACxC,OAAO,IAAI,CAAC,aAAa,CAAA;IAC7B,CAAC;IACD,sCAAmB,GAAnB;QACI,OAAO,IAAI,CAAC,aAAa,CAAA;IAC7B,CAAC;IACD,+BAAY,GAAZ;QACI,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,aAAa,CAAA;IACzC,CAAC;;IAzDc,mBAAU,GAAa,IAAI,CAAC;IAP1B,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAiE5B;IAAD,eAAC;CAjED,AAiEC,IAAA;kBAjEoB,QAAQ","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\module","sourcesContent":["import { gameProtocol } from \"../game/gameProtocol\"\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameInfo {\r\n\r\n    roleAniName:any=null;\r\n    roleWeaponName:any=null;\r\n    roleMaxHealth:any=null;\r\n    currentHealth:any=null;\r\n    private justLeft: boolean = false;\r\n    private static m_GameInfo: GameInfo = null;\r\n    \r\n\r\n    static getInstance(): GameInfo {\r\n        if (!GameInfo.m_GameInfo)\r\n        GameInfo.m_GameInfo = new GameInfo()\r\n        return GameInfo.m_GameInfo;\r\n        \r\n    }\r\n    constructor() {\r\n        this.initEvent()\r\n    }\r\n    // update (dt) {}\r\n    private initEvent() {\r\n        //cc.systemEvent.on(gameProtocol.event.reduceHealth, this.reduceHealth, this);\r\n    }\r\n\r\n    private clearEvent() {\r\n        //cc.systemEvent.off(gameProtocol.event.reduceHealth, this.reduceHealth, this);\r\n    }\r\n\r\n    initRoleInfo(_roleAniName,_roleWeaponName,_roleMaxHealth){\r\n        this.roleAniName=_roleAniName;\r\n        this.roleWeaponName=_roleWeaponName;\r\n        this.roleMaxHealth=_roleMaxHealth;\r\n        this.currentHealth=_roleMaxHealth;\r\n    }\r\n\r\n    returnRoleInfo(){\r\n        let roleInfo={\r\n            roleAniName:this.roleAniName,\r\n            roleWeaponName:this.roleWeaponName,\r\n            roleMaxHealth:this.roleMaxHealth\r\n        }\r\n        return roleInfo\r\n    }\r\n    returnjustLeftStatus(){\r\n        return this.justLeft\r\n    }\r\n\r\n    justLeftGame(){\r\n        this.justLeft=true\r\n    }\r\n\r\n    closeGame(){\r\n        GameInfo.m_GameInfo=null;\r\n    }\r\n\r\n    reduceHealth(){\r\n        this.currentHealth=this.currentHealth-1;\r\n        return this.currentHealth\r\n    }\r\n    returnCurrentHealth(){\r\n        return this.currentHealth\r\n    }\r\n    Resurrection(){\r\n        this.currentHealth=this.roleMaxHealth\r\n    }\r\n}\r\n"]}