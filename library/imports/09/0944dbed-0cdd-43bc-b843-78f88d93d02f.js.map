{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\game/assets\\Script\\game\\collisionDetection.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,+CAA6C;AACvC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAgD,sCAAY;IAD5D;QAAA,qEAoCC;QA/BW,YAAM,GAAS,IAAI,CAAC;QACpB,UAAI,GAAS,IAAI,CAAC;QAElB,gBAAU,GAAW,CAAC,CAAA;QAgB9B,aAAO,GAAS,KAAK,CAAA;;IAYzB,CAAC;IA3BG,mCAAM,GAAN;QACI,IAAI,CAAC,UAAU,GAAG,2BAAY,CAAC,WAAW,CAAC,UAAU,CAAC;IAC1D,CAAC;IACD,kCAAK,GAAL;IAEA,CAAC;IAED,uCAAU,GAAV;QACI,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IAC3C,CAAC;IAED,qCAAQ,GAAR;QACI,IAAI,CAAC,IAAI,GAAC,EAAE,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IACvC,CAAC;IAGD,4CAAe,GAAf;QACI,IAAG,IAAI,CAAC,OAAO;YAAE,OAAO;QACxB,IAAI,QAAQ,GAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;QAC1E,IAAG,QAAQ,IAAE,IAAI,CAAC,UAAU,GAAC,CAAC,EAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,WAAW,GAAC,2BAAY,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC;YAC5F,IAAI,CAAC,OAAO,GAAC,IAAI,CAAA;SACpB;IACL,CAAC;IACD,mCAAM,GAAN;QACI,IAAI,CAAC,eAAe,EAAE,CAAA;IAC1B,CAAC;IAlCgB,kBAAkB;QADtC,OAAO;OACa,kBAAkB,CAmCtC;IAAD,yBAAC;CAnCD,AAmCC,CAnC+C,EAAE,CAAC,SAAS,GAmC3D;kBAnCoB,kBAAkB","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\game","sourcesContent":["import { gameProtocol } from \"./gameProtocol\"\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class collisionDetection extends cc.Component {\r\n\r\n\r\n    \r\n    private player:cc.Node=null;\r\n    private boss:cc.Node=null;\r\n\r\n    private patrolArea: number = 0\r\n    onLoad () {\r\n        this.patrolArea = gameProtocol.bossControl.patrolArea;\r\n    }\r\n    start () {\r\n\r\n    }\r\n\r\n    initPlayer(){\r\n        this.player=cc.find('Player',this.node)\r\n    }\r\n\r\n    initBoss(){\r\n        this.boss=cc.find('boss',this.node)\r\n    }\r\n    \r\n    isEnter:boolean=false\r\n    enterPatrolArea(){\r\n        if(this.isEnter) return;\r\n        let distance=this.player.getPosition().sub(this.boss.getPosition()).mag();\r\n        if(distance<=this.patrolArea*2){\r\n            this.boss.getComponent('bossContol')._actionType=gameProtocol.bossControl.actionType.attack;\r\n            this.isEnter=true\r\n        }\r\n    }\r\n    update(){\r\n        this.enterPatrolArea()\r\n    }\r\n}\r\n"]}